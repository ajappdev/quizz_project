{% extends "base.html" %}

{% block page_content %}
{% load i18n %}
{% load humanize %}

<div class="container">
    <div class="mb-3 d-grid gap-2 d-md-flex justify-content-md-end">
        <a href="{% url 'add_customer' %}" class="btn btn-success" type="button"><i style="margin-right:5px;" class="fas fa-add"></i> {% trans "Ajouter client" %}</a>
      </div>

      <div class="filter-row row mb-3 mt-5">
          <div class="card card-filter">
            <div class="card-body">
                <h5 class="card-title p0p9">{% trans 'Filtre' %}</h5>
                <div class="row">
                    <div class="col-lg-4 col-12 col-md-12 mb-3">
                        <input id="filter_name_customer" class="form-control filter_input" placeholder="{% trans 'Chercher par nom du client ou ID' %}">
                    </div>
                    <div class="col-lg-4 col-12 col-md-12 mb-3">
                        <select class="form-control filter_input_change" id="filter_nationality" name="filter_nationality">
                            <option value="">{% trans 'Choisir nationalité' %}</option>
                            <option value='Morocco - MAR'>Morocco - MAR</option>
                            <option value='France - FRA'>France - FRA</option>
                            <option value='Spain - ESP'>Spain - ESP</option>
                            <option value='Portugal - PRT'>Portugal - PRT</option>
                            <option value='Belgium - BEL'>Belgium - BEL</option>
                            <option value='Netherlands - NLD'>Netherlands - NLD</option>
                            <option value='Germany - DEU'>Germany - DEU</option>
                            <option value='Saudi Arabia - SAU'>Saudi Arabia - SAU</option>
                            <option value='Senegal - SEN'>Senegal - SEN</option>
                            <option value='Afghanistan - AFG'>Afghanistan - AFG</option>
                            <option value='Åland Islands - ALA'>Åland Islands - ALA</option>
                            <option value='Albania - ALB'>Albania - ALB</option>
                            <option value='Algeria - DZA'>Algeria - DZA</option>
                            <option value='American Samoa - ASM'>American Samoa - ASM</option>
                            <option value='Andorra - AND'>Andorra - AND</option>
                            <option value='Angola - AGO'>Angola - AGO</option>
                            <option value='Anguilla - AIA'>Anguilla - AIA</option>
                            <option value='Antarctica - ATA'>Antarctica - ATA</option>
                            <option value='Antigua and Barbuda - ATG'>Antigua and Barbuda - ATG</option>
                            <option value='Argentina - ARG'>Argentina - ARG</option>
                            <option value='Armenia - ARM'>Armenia - ARM</option>
                            <option value='Aruba - ABW'>Aruba - ABW</option>
                            <option value='Australia - AUS'>Australia - AUS</option>
                            <option value='Austria - AUT'>Austria - AUT</option>
                            <option value='Azerbaijan - AZE'>Azerbaijan - AZE</option>
                            <option value='Bahamas - BHS'>Bahamas - BHS</option>
                            <option value='Bahrain - BHR'>Bahrain - BHR</option>
                            <option value='Bangladesh - BGD'>Bangladesh - BGD</option>
                            <option value='Barbados - BRB'>Barbados - BRB</option>
                            <option value='Belarus - BLR'>Belarus - BLR</option>
                           
                            <option value='Belize - BLZ'>Belize - BLZ</option>
                            <option value='Benin - BEN'>Benin - BEN</option>
                            <option value='Bermuda - BMU'>Bermuda - BMU</option>
                            <option value='Bhutan - BTN'>Bhutan - BTN</option>
                            <option value='Bolivia (Plurinational State of) - BOL'>Bolivia (Plurinational State of) - BOL</option>
                            <option value='Bonaire, Sint Eustatius and Saba - BES'>Bonaire, Sint Eustatius and Saba - BES</option>
                            <option value='Bosnia and Herzegovina - BIH'>Bosnia and Herzegovina - BIH</option>
                            <option value='Botswana - BWA'>Botswana - BWA</option>
                            <option value='Bouvet Island - BVT'>Bouvet Island - BVT</option>
                            <option value='Brazil - BRA'>Brazil - BRA</option>
                            <option value='British Indian Ocean Territory - IOT'>British Indian Ocean Territory - IOT</option>
                            <option value='Brunei Darussalam - BRN'>Brunei Darussalam - BRN</option>
                            <option value='Bulgaria - BGR'>Bulgaria - BGR</option>
                            <option value='Burkina Faso - BFA'>Burkina Faso - BFA</option>
                            <option value='Burundi - BDI'>Burundi - BDI</option>
                            <option value='Cabo Verde - CPV'>Cabo Verde - CPV</option>
                            <option value='Cambodia - KHM'>Cambodia - KHM</option>
                            <option value='Cameroon - CMR'>Cameroon - CMR</option>
                            <option value='Canada - CAN'>Canada - CAN</option>
                            <option value='Cayman Islands - CYM'>Cayman Islands - CYM</option>
                            <option value='Central African Republic - CAF'>Central African Republic - CAF</option>
                            <option value='Chad - TCD'>Chad - TCD</option>
                            <option value='Chile - CHL'>Chile - CHL</option>
                            <option value='China - CHN'>China - CHN</option>
                            <option value='Christmas Island - CXR'>Christmas Island - CXR</option>
                            <option value='Cocos (Keeling) Islands - CCK'>Cocos (Keeling) Islands - CCK</option>
                            <option value='Colombia - COL'>Colombia - COL</option>
                            <option value='Comoros - COM'>Comoros - COM</option>
                            <option value='Congo - COG'>Congo - COG</option>
                            <option value='Congo, Democratic Republic of the - COD'>Congo, Democratic Republic of the - COD</option>
                            <option value='Cook Islands - COK'>Cook Islands - COK</option>
                            <option value='Costa Rica - CRI'>Costa Rica - CRI</option>
                            <option value='Côte d'Ivoire - CIV'>Côte d'Ivoire - CIV</option>
                            <option value='Croatia - HRV'>Croatia - HRV</option>
                            <option value='Cuba - CUB'>Cuba - CUB</option>
                            <option value='Curaçao - CUW'>Curaçao - CUW</option>
                            <option value='Cyprus - CYP'>Cyprus - CYP</option>
                            <option value='Czechia - CZE'>Czechia - CZE</option>
                            <option value='Denmark - DNK'>Denmark - DNK</option>
                            <option value='Djibouti - DJI'>Djibouti - DJI</option>
                            <option value='Dominica - DMA'>Dominica - DMA</option>
                            <option value='Dominican Republic - DOM'>Dominican Republic - DOM</option>
                            <option value='Ecuador - ECU'>Ecuador - ECU</option>
                            <option value='Egypt - EGY'>Egypt - EGY</option>
                            <option value='El Salvador - SLV'>El Salvador - SLV</option>
                            <option value='Equatorial Guinea - GNQ'>Equatorial Guinea - GNQ</option>
                            <option value='Eritrea - ERI'>Eritrea - ERI</option>
                            <option value='Estonia - EST'>Estonia - EST</option>
                            <option value='Eswatini - SWZ'>Eswatini - SWZ</option>
                            <option value='Ethiopia - ETH'>Ethiopia - ETH</option>
                            <option value='Falkland Islands (Malvinas) - FLK'>Falkland Islands (Malvinas) - FLK</option>
                            <option value='Faroe Islands - FRO'>Faroe Islands - FRO</option>
                            <option value='Fiji - FJI'>Fiji - FJI</option>
                            <option value='Finland - FIN'>Finland - FIN</option>
                            
                            <option value='French Guiana - GUF'>French Guiana - GUF</option>
                            <option value='French Polynesia - PYF'>French Polynesia - PYF</option>
                            <option value='French Southern Territories - ATF'>French Southern Territories - ATF</option>
                            <option value='Gabon - GAB'>Gabon - GAB</option>
                            <option value='Gambia - GMB'>Gambia - GMB</option>
                            <option value='Georgia - GEO'>Georgia - GEO</option>
                            
                            <option value='Ghana - GHA'>Ghana - GHA</option>
                            <option value='Gibraltar - GIB'>Gibraltar - GIB</option>
                            <option value='Greece - GRC'>Greece - GRC</option>
                            <option value='Greenland - GRL'>Greenland - GRL</option>
                            <option value='Grenada - GRD'>Grenada - GRD</option>
                            <option value='Guadeloupe - GLP'>Guadeloupe - GLP</option>
                            <option value='Guam - GUM'>Guam - GUM</option>
                            <option value='Guatemala - GTM'>Guatemala - GTM</option>
                            <option value='Guernsey - GGY'>Guernsey - GGY</option>
                            <option value='Guinea - GIN'>Guinea - GIN</option>
                            <option value='Guinea-Bissau - GNB'>Guinea-Bissau - GNB</option>
                            <option value='Guyana - GUY'>Guyana - GUY</option>
                            <option value='Haiti - HTI'>Haiti - HTI</option>
                            <option value='Heard Island and McDonald Islands - HMD'>Heard Island and McDonald Islands - HMD</option>
                            <option value='Holy See - VAT'>Holy See - VAT</option>
                            <option value='Honduras - HND'>Honduras - HND</option>
                            <option value='Hong Kong - HKG'>Hong Kong - HKG</option>
                            <option value='Hungary - HUN'>Hungary - HUN</option>
                            <option value='Iceland - ISL'>Iceland - ISL</option>
                            <option value='India - IND'>India - IND</option>
                            <option value='Indonesia - IDN'>Indonesia - IDN</option>
                            <option value='Iran (Islamic Republic of) - IRN'>Iran (Islamic Republic of) - IRN</option>
                            <option value='Iraq - IRQ'>Iraq - IRQ</option>
                            <option value='Ireland - IRL'>Ireland - IRL</option>
                            <option value='Isle of Man - IMN'>Isle of Man - IMN</option>
                            <option value='Israel - ISR'>Israel - ISR</option>
                            <option value='Italy - ITA'>Italy - ITA</option>
                            <option value='Jamaica - JAM'>Jamaica - JAM</option>
                            <option value='Japan - JPN'>Japan - JPN</option>
                            <option value='Jersey - JEY'>Jersey - JEY</option>
                            <option value='Jordan - JOR'>Jordan - JOR</option>
                            <option value='Kazakhstan - KAZ'>Kazakhstan - KAZ</option>
                            <option value='Kenya - KEN'>Kenya - KEN</option>
                            <option value='Kiribati - KIR'>Kiribati - KIR</option>
                            <option value='Korea (Democratic People's Republic of) - PRK'>Korea (Democratic People's Republic of) - PRK</option>
                            <option value='Korea, Republic of - KOR'>Korea, Republic of - KOR</option>
                            <option value='Kuwait - KWT'>Kuwait - KWT</option>
                            <option value='Kyrgyzstan - KGZ'>Kyrgyzstan - KGZ</option>
                            <option value='Lao People's Democratic Republic - LAO'>Lao People's Democratic Republic - LAO</option>
                            <option value='Latvia - LVA'>Latvia - LVA</option>
                            <option value='Lebanon - LBN'>Lebanon - LBN</option>
                            <option value='Lesotho - LSO'>Lesotho - LSO</option>
                            <option value='Liberia - LBR'>Liberia - LBR</option>
                            <option value='Libya - LBY'>Libya - LBY</option>
                            <option value='Liechtenstein - LIE'>Liechtenstein - LIE</option>
                            <option value='Lithuania - LTU'>Lithuania - LTU</option>
                            <option value='Luxembourg - LUX'>Luxembourg - LUX</option>
                            <option value='Macao - MAC'>Macao - MAC</option>
                            <option value='Madagascar - MDG'>Madagascar - MDG</option>
                            <option value='Malawi - MWI'>Malawi - MWI</option>
                            <option value='Malaysia - MYS'>Malaysia - MYS</option>
                            <option value='Maldives - MDV'>Maldives - MDV</option>
                            <option value='Mali - MLI'>Mali - MLI</option>
                            <option value='Malta - MLT'>Malta - MLT</option>
                            <option value='Marshall Islands - MHL'>Marshall Islands - MHL</option>
                            <option value='Martinique - MTQ'>Martinique - MTQ</option>
                            <option value='Mauritania - MRT'>Mauritania - MRT</option>
                            <option value='Mauritius - MUS'>Mauritius - MUS</option>
                            <option value='Mayotte - MYT'>Mayotte - MYT</option>
                            <option value='Mexico - MEX'>Mexico - MEX</option>
                            <option value='Micronesia (Federated States of) - FSM'>Micronesia (Federated States of) - FSM</option>
                            <option value='Moldova, Republic of - MDA'>Moldova, Republic of - MDA</option>
                            <option value='Monaco - MCO'>Monaco - MCO</option>
                            <option value='Mongolia - MNG'>Mongolia - MNG</option>
                            <option value='Montenegro - MNE'>Montenegro - MNE</option>
                            <option value='Montserrat - MSR'>Montserrat - MSR</option>
                            
                            <option value='Mozambique - MOZ'>Mozambique - MOZ</option>
                            <option value='Myanmar - MMR'>Myanmar - MMR</option>
                            <option value='Namibia - NAM'>Namibia - NAM</option>
                            <option value='Nauru - NRU'>Nauru - NRU</option>
                            <option value='Nepal - NPL'>Nepal - NPL</option>
                            <option value='Netherlands - NLD'>Netherlands - NLD</option>
                            <option value='New Caledonia - NCL'>New Caledonia - NCL</option>
                            <option value='New Zealand - NZL'>New Zealand - NZL</option>
                            <option value='Nicaragua - NIC'>Nicaragua - NIC</option>
                            <option value='Niger - NER'>Niger - NER</option>
                            <option value='Nigeria - NGA'>Nigeria - NGA</option>
                            <option value='Niue - NIU'>Niue - NIU</option>
                            <option value='Norfolk Island - NFK'>Norfolk Island - NFK</option>
                            <option value='North Macedonia - MKD'>North Macedonia - MKD</option>
                            <option value='Northern Mariana Islands - MNP'>Northern Mariana Islands - MNP</option>
                            <option value='Norway - NOR'>Norway - NOR</option>
                            <option value='Oman - OMN'>Oman - OMN</option>
                            <option value='Pakistan - PAK'>Pakistan - PAK</option>
                            <option value='Palau - PLW'>Palau - PLW</option>
                            <option value='Palestine, State of - PSE'>Palestine, State of - PSE</option>
                            <option value='Panama - PAN'>Panama - PAN</option>
                            <option value='Papua New Guinea - PNG'>Papua New Guinea - PNG</option>
                            <option value='Paraguay - PRY'>Paraguay - PRY</option>
                            <option value='Peru - PER'>Peru - PER</option>
                            <option value='Philippines - PHL'>Philippines - PHL</option>
                            <option value='Pitcairn - PCN'>Pitcairn - PCN</option>
                            <option value='Poland - POL'>Poland - POL</option>
                            
                            <option value='Puerto Rico - PRI'>Puerto Rico - PRI</option>
                            <option value='Qatar - QAT'>Qatar - QAT</option>
                            <option value='Réunion - REU'>Réunion - REU</option>
                            <option value='Romania - ROU'>Romania - ROU</option>
                            <option value='Russian Federation - RUS'>Russian Federation - RUS</option>
                            <option value='Rwanda - RWA'>Rwanda - RWA</option>
                            <option value='Saint Barthélemy - BLM'>Saint Barthélemy - BLM</option>
                            <option value='Saint Helena, Ascension and Tristan da Cunha - SHN'>Saint Helena, Ascension and Tristan da Cunha - SHN</option>
                            <option value='Saint Kitts and Nevis - KNA'>Saint Kitts and Nevis - KNA</option>
                            <option value='Saint Lucia - LCA'>Saint Lucia - LCA</option>
                            <option value='Saint Martin (French part) - MAF'>Saint Martin (French part) - MAF</option>
                            <option value='Saint Pierre and Miquelon - SPM'>Saint Pierre and Miquelon - SPM</option>
                            <option value='Saint Vincent and the Grenadines - VCT'>Saint Vincent and the Grenadines - VCT</option>
                            <option value='Samoa - WSM'>Samoa - WSM</option>
                            <option value='San Marino - SMR'>San Marino - SMR</option>
                            <option value='Sao Tome and Principe - STP'>Sao Tome and Principe - STP</option>

                            <option value='Serbia - SRB'>Serbia - SRB</option>
                            <option value='Seychelles - SYC'>Seychelles - SYC</option>
                            <option value='Sierra Leone - SLE'>Sierra Leone - SLE</option>
                            <option value='Singapore - SGP'>Singapore - SGP</option>
                            <option value='Sint Maarten (Dutch part) - SXM'>Sint Maarten (Dutch part) - SXM</option>
                            <option value='Slovakia - SVK'>Slovakia - SVK</option>
                            <option value='Slovenia - SVN'>Slovenia - SVN</option>
                            <option value='Solomon Islands - SLB'>Solomon Islands - SLB</option>
                            <option value='Somalia - SOM'>Somalia - SOM</option>
                            <option value='South Africa - ZAF'>South Africa - ZAF</option>
                            <option value='South Georgia and the South Sandwich Islands - SGS'>South Georgia and the South Sandwich Islands - SGS</option>
                            <option value='South Sudan - SSD'>South Sudan - SSD</option>
                            
                            <option value='Sri Lanka - LKA'>Sri Lanka - LKA</option>
                            <option value='Sudan - SDN'>Sudan - SDN</option>
                            <option value='Suriname - SUR'>Suriname - SUR</option>
                            <option value='Svalbard and Jan Mayen - SJM'>Svalbard and Jan Mayen - SJM</option>
                            <option value='Sweden - SWE'>Sweden - SWE</option>
                            <option value='Switzerland - CHE'>Switzerland - CHE</option>
                            <option value='Syrian Arab Republic - SYR'>Syrian Arab Republic - SYR</option>
                            <option value='Taiwan, Province of China - TWN'>Taiwan, Province of China - TWN</option>
                            <option value='Tajikistan - TJK'>Tajikistan - TJK</option>
                            <option value='Tanzania, United Republic of - TZA'>Tanzania, United Republic of - TZA</option>
                            <option value='Thailand - THA'>Thailand - THA</option>
                            <option value='Timor-Leste - TLS'>Timor-Leste - TLS</option>
                            <option value='Togo - TGO'>Togo - TGO</option>
                            <option value='Tokelau - TKL'>Tokelau - TKL</option>
                            <option value='Tonga - TON'>Tonga - TON</option>
                            <option value='Trinidad and Tobago - TTO'>Trinidad and Tobago - TTO</option>
                            <option value='Tunisia - TUN'>Tunisia - TUN</option>
                            <option value='Turkey - TUR'>Turkey - TUR</option>
                            <option value='Turkmenistan - TKM'>Turkmenistan - TKM</option>
                            <option value='Turks and Caicos Islands - TCA'>Turks and Caicos Islands - TCA</option>
                            <option value='Tuvalu - TUV'>Tuvalu - TUV</option>
                            <option value='Uganda - UGA'>Uganda - UGA</option>
                            <option value='Ukraine - UKR'>Ukraine - UKR</option>
                            <option value='United Arab Emirates - ARE'>United Arab Emirates - ARE</option>
                            <option value='United Kingdom of Great Britain and Northern Ireland - GBR'>United Kingdom of Great Britain and Northern Ireland - GBR</option>
                            <option value='United States of America - USA'>United States of America - USA</option>
                            <option value='United States Minor Outlying Islands - UMI'>United States Minor Outlying Islands - UMI</option>
                            <option value='Uruguay - URY'>Uruguay - URY</option>
                            <option value='Uzbekistan - UZB'>Uzbekistan - UZB</option>
                            <option value='Vanuatu - VUT'>Vanuatu - VUT</option>
                            <option value='Venezuela (Bolivarian Republic of) - VEN'>Venezuela (Bolivarian Republic of) - VEN</option>
                            <option value='Viet Nam - VNM'>Viet Nam - VNM</option>
                            <option value='Virgin Islands (British) - VGB'>Virgin Islands (British) - VGB</option>
                            <option value='Virgin Islands (U.S.) - VIR'>Virgin Islands (U.S.) - VIR</option>
                            <option value='Wallis and Futuna - WLF'>Wallis and Futuna - WLF</option>
                            <option value='Western Sahara - ESH'>Western Sahara - ESH</option>
                            <option value='Yemen - YEM'>Yemen - YEM</option>
                            <option value='Zambia - ZMB'>Zambia - ZMB</option>
                            <option value='Zimbabwe - ZWE'>Zimbabwe - ZWE</option>
                        </select>                    </div>
                    <div class="col-lg-4 col-12 col-md-12">
                        <select id="filter_type_customer" class="form-control filter_input_change">
                            <option value="">{% trans 'Type de client' %}</option>
                            <option value="sell">{% trans 'Vente' %}</option>
                            <option value="buy">{% trans 'Achat' %}</option>
                        </select>
                    </div>
                </div>
            </div>
          </div>
        </div>
    
    <div class="row mb-3">
        <div id="table_customers"></div>
    </div>
</div>


<script
  src="https://code.jquery.com/jquery-3.6.1.js"
  integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI="
  crossorigin="anonymous"></script>
<script>



//////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////
///////////////////WHEN DOM IS READY//////////////////////
//////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////

$( document ).ready(function() {
    
    filter_results()

    // GESTION DES MESSAGES DE L'AFFICHAGE
    
    if ("{{success_message}}" != "")
    {
    Swal.fire({
        position: 'bottom-right',
        icon: 'success',
        title: translate_js("{{success_message}}", "FR"),
        showConfirmButton: false,
        timer: 1500
        })
    }
    
    });


//////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////
/////////////////////////////AT LOAD//////////////////////
//////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////


var filter_page = 1


//////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////
////////////////////////CLICK EVENTS//////////////////////
//////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////

$(document).on("click", ".delete_customer", function() {

    customer_id = $(this).closest("tr").find(".customer_id").text()
    table_line = $(this).closest("tr")
    Swal.fire({
        title: translate_js('Attention', "FR"),
        text: translate_js("Voulez-vous vraiment supprimer ce client ? Cela supprimera par conséquent toutes les transactions associées!", "FR"),
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: translate_js('Confirmer', "FR"),
        cancelButtonText: translate_js('Annuler', "FR")
    }).then((result) => {
        if (result.isConfirmed) {
            data_dict = {
            "action": "delete_customer",
            "customer_id": customer_id,
            }
            $.ajax({
            headers: {
                "X-CSRFToken": getCookie("csrftoken")
            },
            type: 'POST',
            processData: false,
            contentType: false,
            url: "{% url 'ajax_calls' %}",
            data: JSON.stringify(data_dict),
            success: function(response) {
                if (response['error'] != "0")
                {
                    Swal.fire({
                        icon: 'error',
                        title: translate_js('Une erreur est survenue!', "FR"),
                        position: 'center',
                        showConfirmButton: false,
                        timer: 1500,
                        text: response['error_text'],
                    })
                }else
                {
                    Swal.fire({
                        icon: 'success',
                        title: translate_js("Client supprimé avec succès", "FR"),
                        showConfirmButton: false,
                        timer: 1500
                    })
                    table_line.remove()
                }
            }
            })

        }
    })

});


$(document).on("change", ".filter_input_change", function() {
    filter_results()
});

$(document).on("keyup", ".filter_input", function() {
    filter_results()
});

$(document).on('click', '.page-link', function() {
	filter_page= $(this).text();
    filter_results()
});

$(document).on('click', '.prev-page-liste', function() {
	filter_page = parseInt(filter_page) - 1
    filter_results();
});

$(document).on('click', '.next-page-liste', function() {
	filter_page = parseInt(filter_page) + 1
    filter_results();
});


//////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////
///////////////////DECLARING FUNCTIONS///////////////////
//////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////

function filter_results()
{

    var data_dict = {
        "action": "filter_customers_list",
        "customer_name_or_id": $("#filter_name_customer").val(),
        "customer_nationality": $("#filter_nationality").val(),
        "customer_type": $("#filter_type_customer").val(),
        "page": filter_page,
    }

    $.ajax({
        headers: {
            "X-CSRFToken": getCookie("csrftoken")
        },
        type: 'POST',
        processData: false,
        contentType: false,
        url: "{% url 'ajax_calls' %}",
        data: JSON.stringify(data_dict),
        success: function(response) {
            $("#table_customers").html(response["html"])
        }
    })
}

</script>

{% endblock %}